<div
  class="fixed inset-0 bg-black/50 flex items-center justify-center z-[200]"
  (click)="shortcutsService.closeHelp()"
  tabindex="-1"
>
  <div
    role="dialog"
    aria-modal="true"
    aria-label="Keyboard shortcuts"
    class="bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-sm mx-4 overflow-hidden"
    (click)="$event.stopPropagation()"
  >
    <!-- Header -->
    <div class="flex items-center justify-between px-5 py-4 border-b border-gray-100 dark:border-gray-700">
      <div class="flex items-center gap-2.5">
        <ng-icon name="lucideKeyboard" size="17" class="text-gray-400 dark:text-gray-500" />
        <h2 class="m-0 text-sm font-semibold text-gray-900 dark:text-gray-100 tracking-wide">
          Keyboard Shortcuts
        </h2>
      </div>
      <button
        (click)="shortcutsService.closeHelp()"
        class="p-1.5 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 border-none bg-transparent cursor-pointer transition-colors"
        aria-label="Close"
      >
        <ng-icon name="lucideX" size="15" />
      </button>
    </div>

    <!-- Shortcuts list -->
    <div class="px-5 py-3">
      @for (shortcut of shortcuts; track shortcut.key) {
        <div class="flex items-center justify-between py-2.5 border-b border-gray-100 dark:border-gray-700/60 last:border-0">
          <span class="text-sm text-gray-600 dark:text-gray-300">{{ shortcut.description }}</span>
          <kbd class="inline-flex items-center px-2.5 py-1 text-xs font-mono font-semibold bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm min-w-[2rem] justify-center">
            {{ shortcut.key }}
          </kbd>
        </div>
      }
    </div>

    <!-- Footer hint -->
    <div class="px-5 py-3 bg-gray-50 dark:bg-gray-700/40 border-t border-gray-100 dark:border-gray-700">
      <p class="m-0 text-xs text-gray-400 dark:text-gray-500 text-center">
        Shortcuts are disabled while typing in a field
      </p>
    </div>
  </div>
</div>
